import{c as f,o as i,a as c,w as k,v as S,u as d,b as p,i as v,t as b,n as g,d as w,e as h,r as x,f as $,g as B,h as r,j as s,_ as C,k as F,l as N,m as y,p as _,q as P,s as U,x as L}from"./index.56af784e.js";import{_ as R,a as j}from"./LayoutGuest.a50ca31a.js";const q=["type","name","value"],A=p("span",{class:"check"},null,-1),D={class:"pl-2"},T={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:e=>["checkbox","radio","switch"].includes(e)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const u=e,l=f({get:()=>u.modelValue,set:o=>{t("update:modelValue",o)}}),a=f(()=>u.type==="radio"?"radio":"checkbox");return(o,m)=>(i(),c("label",{class:g(e.type)},[k(p("input",{"onUpdate:modelValue":m[0]||(m[0]=n=>v(l)?l.value=n:null),type:d(a),name:e.name,value:e.inputValue},null,8,q),[[S,d(l)]]),A,p("span",D,b(e.label),1)],2))}},M={class:"mb-6 last:mb-0"},O=["for"],z={key:1,class:"text-xs text-gray-500 dark:text-slate-400 mt-1"},V={__name:"FormField",props:{label:{type:String,default:null},labelFor:{type:String,default:null},help:{type:String,default:null}},setup(e){const t=w(),u=f(()=>{const l=[],a=t.default().length;return a>1&&l.push("grid grid-cols-1 gap-3"),a===2&&l.push("md:grid-cols-2"),l});return(l,a)=>(i(),c("div",M,[e.label?(i(),c("label",{key:0,for:e.labelFor,class:"block font-bold mb-2"},b(e.label),9,O)):h("",!0),p("div",{class:g(d(u))},[x(l.$slots,"default")],2),e.help?(i(),c("div",z,b(e.help),1)):h("",!0)]))}},G={__name:"LoginView",setup(e){const t=$({remember:!0}),u=P(),l=()=>{fetch("/api/login",{method:"POST",body:JSON.stringify({name:t.login,password:t.pass}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(a=>a.json()).then(a=>u.push(a))};return(a,o)=>(i(),B(R,null,{default:r(()=>[s(j,{bg:"purplePink"},{default:r(({cardClass:m})=>[s(C,{class:g(m),"is-form":"",onSubmit:F(l,["prevent"])},{footer:r(()=>[s(N,null,{default:r(()=>[s(y,{type:"submit",color:"info",label:"Login"}),s(y,{to:"/",color:"info",outline:"",label:"Back"})]),_:1})]),default:r(()=>[s(V,{label:"Login",help:"Please enter your login"},{default:r(()=>[s(_,{modelValue:t.login,"onUpdate:modelValue":o[0]||(o[0]=n=>t.login=n),icon:d(U),name:"login",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),s(V,{label:"Password",help:"Please enter your password"},{default:r(()=>[s(_,{modelValue:t.pass,"onUpdate:modelValue":o[1]||(o[1]=n=>t.pass=n),icon:d(L),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1}),s(T,{modelValue:t.remember,"onUpdate:modelValue":o[2]||(o[2]=n=>t.remember=n),name:"remember",label:"Remember","input-value":!0},null,8,["modelValue"])]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{G as default};
